<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <title>404 Not Found</title>
    <link rel="stylesheet" href="style.css" />
    <link
      rel="icon"
      href="https://cdn.glitch.global/76a1f4d2-2815-4fbf-afcd-888d6db7e806/icon.png?v=1749463611859"
      type="image/png"
    />
    <link
      rel="icon"
      href="https://cdn.glitch.global/76a1f4d2-2815-4fbf-afcd-888d6db7e806/icon.ico?v=1749512639750"
      type="image/x-icon"
    />
    <style>
      #hiddenErrorText {
        display= none;
      }
    </style>
  </head>
  <body>
    <header>_tonkatsu_ / tonkatsu0211のマイページ</header>

    <div class="nav">
      <a href="index">TOP</a>
      <a href="my">自己紹介</a>
      <a href="projects">作品</a>
      <a href="contact">連絡先</a>
      <a href="updates">更新履歴</a>
      <a href="beforeBreak">履歴破壊</a>
      <a href="error" class="active">404</a>
    </div>

    <div class="main">
      <img
        src="https://cdn.glitch.global/76a1f4d2-2815-4fbf-afcd-888d6db7e806/Not Found.png?v=1749532095238"
        width="1000"
      />
      <h1 id="text">このページはURLが変更されたか存在しません。</h1>
      <h3 id="error"></h3>
      <h3 id="hiddenErrorText">
        あなた、意図的にこのサイトにアクセスしたか404のタブをクリックしましたね?ご褒美に履歴を404で埋め尽くしてあげます。
      </h3>
      <h2>
        <button onclick="location.href='index'" class="blueButton30">
          トップページに戻る
        </button>
      </h2>
    </div>
  </body>
  <div id="footer-placeholder"></div>

  <script>
    fetch("/settings/footer.html")
      .then((res) => res.text())
      .then((html) => {
        document.getElementById("footer-placeholder").innerHTML = html;
      });
    const params = new URLSearchParams(window.location.search);
    const e = params.get("e");
    const accessURL = `${location.origin}/${e}`;
    document.getElementById(
      "error"
    ).textContent = `アクセスしたURL: ${accessURL}`;

    if (!e) {
      document.getElementById("hiddenErrorText").style.display = "inline";
      document.getElementById("error").style.display = "none";
      document.getElementById("text").textContent = "意☆味☆不☆明☆";

      function changeUrl() {
        const randomStr = Math.random().toString(36).substring(2, 8);
        const newUrl =
          window.location.origin +
          window.location.pathname +
          "?id=" +
          randomStr;
        window.history.pushState({}, "", newUrl);
      }

      setInterval(changeUrl, 200);
    } else {
      document.getElementById("hiddenErrorText").style.display = "none";
      document.getElementById("error").style.display = "inline";
    }
  </script>
</html>
